"use strict";function alert_msg(e){var t="";return t+'<div class="alert alt_alert_warning" role="alert">'+(e+"</div>")}function success_msg(e){var t="";return t+'<div class="alert alt_alert_success" role="alert">'+(e+"</div>")}function message_alert(e,t){return'<div class="alert alt_alert_'+t+'" role="alert">'+e+"</div>"}function validate_email(e){return new RegExp(/^([\w\.\-]+)@([\w\-]+)((\.(\w){2,3})+)$/i).test(e)}function reloadWindow(){location.reload()}function requestModal(e,t,a){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;$(".modal-backdrop").remove(),a=1==o?"url="+e+"&get_type="+post_type[1]+"&token="+token+"&"+a:Object.assign({url:e,get_type:post_type[1],token:token},a),$.ajax({url:e,data:a,method:"POST",success:function(e){$("#modalDiv").html(e),$("#"+t).modal("toggle")},error:function(){alert("error!")}})}function getCookie(e){var t=document.cookie,e=e+"=",a=t.indexOf("; "+e);if(-1==a){if(0!=(a=t.indexOf(e)))return null}else{a+=2;var o=document.cookie.indexOf(";",a);-1==o&&(o=t.length)}return decodeURI(t.substring(a+e.length,o))}function cookieAction(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];null==getCookie(e)&&0==t?((t=new Date).setTime(t.getTime()+18e5),$.cookie(e,"true",{expires:7300})):$.cookie(e,"true")}function closeModalByID(e){$("#"+e).modal("hide"),setTimeout(function(){$("#"+e).remove(),$(".script").remove()},200),$(".modal-backdrop").remove()}function window_load(e){$("#"+e).load(location.href+" #"+e)}function on_enter(e,t){$("#"+e).bind("keypress",function(e){13==e.which&&(e.preventDefault,$("#"+t).trigger("click"))})}function is_json_string(e){try{return JSON.parse(e),!0}catch(e){return!1}}function postCheck(n,e){var l,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]&&arguments[3],o=!!n.startsWith("#"),s=!!n.startsWith("."),i=o||s?$(n):$("#"+n);o=e,o=a?o+"&url="+post_urls[t]+"&get_type="+post_type[0]+"&token="+token:Object.assign({url:post_urls[t],get_type:post_type[0],token:token},o),$.ajax({url:path_action,method:"POST",data:o,success:function(e){var t,a,o,s,r;is_json_string(e)&&(e=JSON.parse(e),l=e.hasOwnProperty("alt_id")?e.alt_id:"",e.hasOwnProperty("update")&&e.update&&(window.update_sett=0,window_load(n)),e.hasOwnProperty("data_append")&&(o=e.hasOwnProperty("data_append_type")?e.data_append_type:"input",data_res_append(e.data_append,o)),e.hasOwnProperty("alert")?(o={modal_msg:e.message,modal_err:e.error,modal_type:"alert",url:post_modal[14]},requestModal(n,post_modal[14],o)):"refresh"==e.url?(1==e.success&&""!=e.message&&i.html(success_msg(e.message)),e.hasOwnProperty("delayed")?(r=e.hasOwnProperty("seconds")?e.seconds:1e3,setTimeout(function(){location.reload()},r)):location.reload()):"remove"==e.url?(n=""!=l?l:n,i.remove()):"append"==e.url?i.append(e.message):e.hasOwnProperty("url")&&""!=e.url?e.hasOwnProperty("delayed")?(1==e.success&&""!=e.message&&i.html(success_msg(e.message)),r=e.hasOwnProperty("seconds")?e.seconds:1e3,setTimeout(function(){window.location.href=e.url},r)):e.hasOwnProperty("new_tab")&&(o=window.open(e.url,"_blank"))?o.focus():window.location.href=e.url:e.hasOwnProperty("form_check")?1==e.error&&e.hasOwnProperty("form_id")?(("input"!=(o=e.hasOwnProperty("form_input")?e.form_input:"input")?$("#"+o):$("#"+e.form_id).siblings(o)).addClass("is-invalid"),$("#"+e.form_id).html(e.message),$("#"+e.form_id).addClass("invalid-feedback").removeClass("valid-feedback"),$("#"+e.form_id).show()):1==e.error&&i.html(alert_msg(e.message)):1!=e.success||1!=e.append&&1!=e.prepend?1==e.success&&""!=e.message?(i.html(success_msg(e.message)),e.hasOwnProperty("delayed")&&(r=e.hasOwnProperty("seconds")?e.seconds:15e3,i.delay(r).fadeOut())):0==e.success&&0==e.error&&""!=e.message?(i.html(e.message),0):1==e.error?"object"==_typeof(e.message)&&null!==e.message?data_err(e.message,n):(i.show(),i.html(alert_msg(e.message)),e.hasOwnProperty("delayed")&&(r=e.hasOwnProperty("seconds")?e.seconds:15e3,i.delay(r).fadeOut())):(e.hasOwnProperty("data")&&""!=e.data||e.hasOwnProperty("data")&&e.hasOwnProperty("data_allow"))&&(""==e.data&&i.html(""),i.html(e.data)):(i.is(":hidden")&&i.show(),1==e.prepend?0<$("#msg_div").length?(t=(o=$("#msg_div"))[0].scrollHeight,$(e.data).prependTo("#"+n),a=o[0].scrollHeight,o.scrollTop(a-t)):$(e.data).prependTo("#"+n):""!=e.data&&i.append(e.data)),e.hasOwnProperty("modal")&&(o=e.modal,""!=(s=e.hasOwnProperty("modal_id")?e.modal_id:"")&&"close"==o&&(e.hasOwnProperty("delayed")?(r=e.hasOwnProperty("seconds")?e.seconds:15e3,setTimeout(function(){closeModalByID(s)},r)):closeModalByID(s))),e.hasOwnProperty("remove_class")&&data_res_remove_class(e.remove_class),e.hasOwnProperty("add_class")&&data_res_add_class(e.add_class))},error:function(e,t,a){var e="There was an error on your request ! : "+e.statusText,o=$("#modal_alert_check");0<o.length&&0==parseInt(o.val())&&(requestModal(post_modal[14],post_modal[14],{modal_err:!0,modal_msg:e}),o.val(1))}})}function postFile(e,t,a){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=new FormData;s.append("url",post_urls[o]),s.append("token",token),s.append("get_type",post_type[0]),s.append("post_image",$("#"+t)[0].files[0]),$.ajax({url:path_action,method:"POST",data:s,processData:!1,contentType:!1,success:function(e){is_json_string(e)&&1==(e=JSON.parse(e)).success&&""!=e.image&&($(".image").src=e.image,$(".image").prop("src",e.image))},error:function(e,t,a){var e="There was an error on your request ! : "+e.statusText,o=$("#modal_alert_check");0<o.length&&0==parseInt(o.val())&&(requestModal(post_modal[14],post_modal[14],{modal_err:!0,modal_msg:e}),o.val(1))}})}function postFile3(t,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"",e=new FormData($("#"+e)[0]),s=".image";e.append("url",post_urls[a]),e.append("token",token),e.append("get_type",post_type[0]),$.ajax({url:path_action,method:"POST",data:e,processData:!1,contentType:!1,success:function(e){is_json_string(e)&&((e=JSON.parse(e)).update&&(window.update_sett=0,$("#imgs_container").html(e.image)),1==e.success&&(""!=e.image&&(""!=t&&(s="#"+t+s),$(".image").src=e.image,$(s).prop("src",e.image)),""!=e.data&&$(o).val(e.data)))},error:function(e,t,a){var e="There was an error on your request ! : "+e.statusText,o=$("#modal_alert_check");0<o.length&&0==parseInt(o.val())&&(requestModal(post_modal[14],post_modal[14],{modal_err:!0,modal_msg:e}),o.val(1))}})}function postFile2(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=new FormData($("#product_form_img")[0]),r=".image";s.append("url",post_urls[o]),s.append("token",token),s.append("get_type",post_type[0]),""!=e&&s.append(e,$("#"+e).val()),$.ajax({url:path_action,method:"POST",data:s,processData:!1,contentType:!1,success:function(e){is_json_string(e)&&((e=JSON.parse(e)).update&&(window.update_sett=0,$("#imgs_container").html(e.image)),1==e.error?$(".multi_img_msg").html(alert_msg(e.message)):1==e.success&&""!=e.image&&(""!=a&&(r="#"+a+r),$(".image").src=e.image,$(r).prop("src",e.image)))},error:function(e,t,a){var e="There was an error on your request ! : "+e.statusText,o=$("#modal_alert_check");0<o.length&&0==parseInt(o.val())&&(requestModal(post_modal[14],post_modal[14],{modal_err:!0,modal_msg:e}),o.val(1))}})}function doAnimations(e){e.each(function(){var e=$(this),t=e.data("animation");e.addClass(t).one("webkitAnimationEnd animationend",function(){e.removeClass(t)})})}function changeURL(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"tab",a=new URL(window.location.href),o=a.search,o=new URLSearchParams(o),t=(o.set(t,e),a.search=o.toString(),a.toString());window.history.pushState("","Title",t)}function function_tinytext_forms(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"null",t=encodeURIComponent(tinyMCE.get(t).getContent()),e=$("#"+e).serialize();postCheck(a,post_data_default+"&"+e+"&article_content="+t,0,!0)}function modal_post(){$("#error_pop").html("");var e=encodeURIComponent(tinyMCE.get("mytextarea").getContent()),t=new FormData($("#article_form_img")[0]),a=$("#article_form").serialize(),o=$("#product_image").val();$("#article_id").length;a=post_data_default+"&"+a+"&article_content="+e,t.append("token",token),t.append("get_type",post_type[0]),t.append("url",post_urls[0]),(o=0!=$("#product_id").length||""!=o||0!=media&&null!=media?1:0)?$.ajax({url:path_action,method:"post",data:a,success:function(e){is_json_string(e)&&(1==(e=JSON.parse(e)).success&&1==o||0!=$("#product_id").length?($("#error_pop").html(success_msg(e.message)),$.ajax({url:path_action,method:"post",data:t,processData:!1,contentType:!1,success:function(e){is_json_string(e)&&(1==(e=JSON.parse(e)).success?$("#error_pop").html(success_msg(e.message)):1==e.error&&$("#error_pop").html(alert_msg(e.message)))},error:function(){alert("Something went wrong")}})):1==o&&1==e.success?location.reload():1==e.error&&$("#error_pop").html(alert_msg(e.message)))},error:function(){alert("Something went wrong")}}):$("#error_pop").html(alert_msg("Please upload file before submitting the form"))}function media_post(){$("#error_pop").html("");var a=new FormData($("#product_form_img")[0]),e=$("#mediaForm").serialize(),o=$("#file_doc").val(),t=$("#media_id").length,e=post_data_default+"&"+e;a.append("token",token),a.append("get_type",post_type[0]),a.append("url",post_urls[0]),(o=0!=$("#media_id").length||""!=o||0!=t&&null!=t?1:0)?$.ajax({url:path_action,method:"post",data:e,success:function(e){var t;is_json_string(e)&&(e=JSON.parse(e),t=$("#file_doc").val(),1==e.success&&1==o&&0!=t&&null!=t?($("#error_pop").html(success_msg(e.message)),$.ajax({url:path_action,method:"post",data:a,processData:!1,contentType:!1,success:function(e){is_json_string(e)&&(1==(e=JSON.parse(e)).success?e.hasOwnProperty("reload")&&0==e.reload?$("#error_pop").html(success_msg(e.message)):reloadWindow():1==e.error&&$("#error_pop").html(alert_msg(e.message)))},error:function(){alert("Something went wrong")}})):1==o&&1==e.success?reloadWindow():1==e.error&&$("#error_pop").html(alert_msg(e.message)))},error:function(){alert("Something went wrong")}}):$("#error_pop").html(alert_msg("Please upload file before submitting the form"))}function modal_user_post(){$("#error_pop").html("");var e=$("#userForm").serialize(),t=$("#post_image").val(),a=new FormData($("#product_form_img")[0]),e=post_data_default+"&"+e;a.append("token",token),a.append("get_type",post_type[0]),a.append("url",post_urls[2]),(t=""!=$("#image_profile").prop("src")||""!=t?1:0)?$.ajax({url:path_action,method:"post",data:e,success:function(e){is_json_string(e)&&(1==(e=JSON.parse(e)).success&&1==t||0!=$("#product_id").length?($("#error_pop").html(success_msg(e.message)),$.ajax({url:path_action,method:"post",data:a,processData:!1,contentType:!1,success:function(e){is_json_string(e)&&(1==(e=JSON.parse(e)).success?$("#error_pop").html(success_msg(e.message)):1==e.error&&$("#error_pop").html(alert_msg(e.message)),"refresh"==e.url&&location.reload())},error:function(){alert("Something went wrong")}})):1==t&&1==e.success?location.reload():1==e.error&&$("#error_pop").html(alert_msg(e.message)))},error:function(){alert("Something went wrong")}}):$("#error_pop").html(alert_msg("Please upload an image before submitting the form"))}function post_comment(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"comment";$("#islogged").val()?(a="comment"==a?"commentForm_":"commentReForm_",a+=e,a=(a=$("#"+a).serialize())+"&"+post_data_default,$.ajax({url:path_action,method:"POST",data:a,success:function(e){is_json_string(e)&&(1==(e=JSON.parse(e)).success&&0==e.error?($("#"+t).html(success_msg(e.message)),""!=e.url&&window_load(e.url)):(e.error=!0,$("#"+t).html(alert_msg(e.message))))},error:function(e,t,a){var e="There was an error on your request ! : "+e.statusText,o=$("#modal_alert_check");0<o.length&&0==parseInt(o.val())&&(requestModal(post_modal[14],post_modal[14],{modal_err:!0,modal_msg:e}),o.val(1))}})):(window.article_id=e,requestModal(post_modal[10],post_modal[10],{user:!0}))}function search_res(){var e=$("#search_input").val();""==e?($(".wrapper").toggleClass("animate"),$("#nav_ul").toggleClass("hidden")):window.location.href="search?search="+e}function srolltodiv(e){this.preventDefault,$("html, body").animate({scrollTop:$("#"+e).offset().top},1500)}function TwtCheck(e){data=Object.assign({url:post_urls[0],get_type:post_type[0],token:token},data),$.ajax({url:path_action,method:"POST",data:data,success:function(e){is_json_string(e)&&("refresh"==(e=JSON.parse(e)).url?location.reload():""!=e.url?window.location.href=e.url:1==e.success&&""!=e.message?$("#"+htmlid).html(success_msg(e.message)):1==e.success&&0==e.error?($("#"+htmlid).html(success_msg(e.message)),ret=!0,e.url):(e.error=!0,$("#"+htmlid).html(alert_msg(e.message))))},error:function(e,t,a){alert("There was an error on your request ! : "+e.statusText)}})}